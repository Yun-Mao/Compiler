# Compiler

从零开始的编译器

## 关于此分支

和[博客](https://blog.daitianyu.cn)同步更新。本文参考：[参考博客](http://wang22ti.com/2018/06/09/%E3%80%8A%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E3%80%8B%E5%AE%9E%E9%AA%8C5-%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90%E5%99%A8%E4%B9%8BSLR1%E5%88%86%E6%9E%90%E6%B3%95python%E5%AE%9E%E7%8E%B0/)

本分支是编译原理实验分支，且以完成实验和提升自我为目的。

## SLR(0)的语法分析

| 变量名            | 类型                                                  | 解释                                                                                                                                                                                                                                                                |
| ----------------- | ----------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| start             | str                                                   | 文法的起始符号                                                                                                                                                                                                                                                      |
| new_start         | str                                                   | 拓展文法的起始符号                                                                                                                                                                                                                                                  |
| terminator(ok)             | list<str>                                             | 文法的终结符号列表                                                                                                                                                                                                                                                  |
| productions       | dict<str,list<str>>                                   | 文法产生的字典，键为非终结符号，值为对应的产生式右部的列表                                                                                                                                                                                                          |
| nontermainnals    | dic.key                                               | 文法终结符号的集合                                                                                                                                                                                                                                                  |
| log_level         | int                                                   | 日志等级                                                                                                                                                                                                                                                            |
| point             | str                                                   | 项目中的分隔符号                                                                                                                                                                                                                                                    |
| sharp             | str                                                   | 语法分析的终止符号                                                                                                                                                                                                                                                  |
| first             | dict<str,dict<str,str>>或dict<str,dict<str,set<str>>> | 文法的First集合，外层的字典键为文法的非终结符号集，内层字典的键为输入符号；内层字典键不为空符号串时，内层字典值为非终结符号（外层字典键）符号遇到输入符号（内层字典键）时选择的产生式右部；当内层字典为空符号串时，内层字典值为非终结符号（外层字典键）的Follow集。 |
| follow            | dict<str,set<str>>                                    | 文法的Follow集合，键为文法的非终结符，值为对应的Follow集。                                                                                                                                                                                                          |
| items             | dict<str,list<str>>                                   | 文法的项目集合字典，键为文法的非终结符，值为对应的Follow级=集                                                                                                                                                                                                       |
| status_list       | list<set<str>>                                        | 状态列表，每个元素时该状态的项目集合                                                                                                                                                                                                                                |
| analyse_table     | dict<dict<list>>                                      | 分析表，外层字典的键为状态，内层字典的键为待分析符号，内层值为存储转移状态、接受项目的list                                                                                                                                                                          |
| acc               | str                                                   | 语法分析的接受标识符                                                                                                                                                                                                                                                |
| language_type     | int                                                   | 文法的类型                                                                                                                                                                                                                                                          |
| file_name         | str                                                   | 输入、输出文件名                                                                                                                                                                                                                                                    |
| string            | str                                                   | 文件中读取，删去空格、换行的输入串                                                                                                                                                                                                                                  |
| token             | str                                                   | 存放一个单词的各个字符                                                                                                                                                                                                                                              |
| ch                | str                                                   | 已经分析完或正在分析的字符                                                                                                                                                                                                                                          |
| one_op            | list<str>                                             | 单字符终结符的列表                                                                                                                                                                                                                                                  |
| reserved          | list<str>                                             | 保留字的列表                                                                                                                                                                                                                                                        |
| tag_list          | list<str>                                             | 从二元式中得到的类别的列表                                                                                                                                                                                                                                          |
| string_list       | list<str>                                             | 和tag_list中元素一一对应，表示类别在输入串的字符                                                                                                                                                                                                                    |
| two_next          | dict<str,list<str>>                                   | 键位双字符终结符的第一个字符，值为所有可能的第二个字符                                                                                                                                                                                                              |
| token_to_category | dict<str,str>                                         | 键为合法的终结符，值位对应的类别                                                                                                                                                                                                                                    |
| switch            | dict<str,func>                                        | 键为ch的类别，值为对应的处理函数                                                                                                                                                                                                                                    |